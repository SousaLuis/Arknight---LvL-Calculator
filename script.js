const level = 
{
    E0: {
        level: {
            "1": {
                exp: 0,
                lmd: 0
            },
            "2": {
                exp: 100,
                lmd: 30
            },
            "3": {
                exp: 117,
                lmd: 36
            },
            "4": {
                exp: 134,
                lmd: 43
            },
            "5": {
                exp: 151,
                lmd: 50
            },
            "6": {
                exp: 168,
                lmd: 57
            },
            "7": {
                exp: 185,
                lmd: 65
            },
            "8": {
                exp: 202,
                lmd: 73
            },
            "9": {
                exp: 219,
                lmd: 81
            },
            "10": {
                exp: 236,
                lmd: 90
            },
            "11": {
                exp: 253,
                lmd: 99
            },
            "12": {
                exp: 270,
                lmd: 108
            },
            "13": {
                exp: 287,
                lmd: 118
            },
            "14": {
                exp: 304,
                lmd: 128
            },
            "15": {
                exp: 321,
                lmd: 138
            },
            "16": {
                exp: 338,
                lmd: 149
            },
            "17": {
                exp: 355,
                lmd: 160
            },
            "18": {
                exp: 371,
                lmd: 182
            },
            "19": {
                exp: 389,
                lmd: 206
            },
            "20": {
                exp: 406,
                lmd: 231
            },
            "21": {
                exp: 423,
                lmd: 258
            },
            "22": {
                exp: 440,
                lmd: 286
            },
            "23": {
                exp: 457,
                lmd: 315
            },
            "24": {
                exp: 474,
                lmd: 346
            },
            "25": {
                exp: 491,
                lmd: 378
            },
            "26": {
                exp: 508,
                lmd: 411
            },
            "27": {
                exp: 525,
                lmd: 446
            },
            "28": {
                exp: 542,
                lmd: 482
            },
            "29": {
                exp: 559,
                lmd: 520
            },
            "30": {
                exp: 574,
                lmd: 557
            },
            "31": {
                exp: 589,
                lmd: 595
            },
            "32": {
                exp: 605,
                lmd: 635
            },
            "33": {
                exp: 621,
                lmd: 677
            },
            "34": {
                exp: 637,
                lmd: 720
            },
            "35": {
                exp: 653,
                lmd: 764
            },
            "36": {
                exp: 669,
                lmd: 809
            },
            "37": {
                exp: 685,
                lmd: 856
            },
            "38": {
                exp: 701,
                lmd: 904
            },
            "39": {
                exp: 716,
                lmd: 952
            },
            "40": {
                exp: 724,
                lmd: 992
            },
            "41": {
                exp: 739,
                lmd: 1042
            },
            "42": {
                exp: 749,
                lmd: 1086
            },
            "43": {
                exp: 759,
                lmd: 1131
            },
            "44": {
                exp: 770,
                lmd: 1178
            },
            "45": {
                exp: 783,
                lmd: 1229
            },
            "46": {
                exp: 804,
                lmd: 1294
            },
            "47": {
                exp: 820,
                lmd: 1353
            },
            "48": {
                exp: 836,
                lmd: 1413
            },
            "49": {
                exp: 852,
                lmd: 1474
            },
            "50": {
                exp: 888,
                lmd: 1572
            },
        }
    },
    E1: {
        level: {
            "1": {
                exp: 0,
                lmd: 0
            },
            "2": {
                exp: 120,
                lmd: 48
            },
            "3": {
                exp: 172,
                lmd: 71
            },
            "4": {
                exp: 224,
                lmd: 95
            },
            "5": {
                exp: 276,
                lmd: 120
            },
            "6": {
                exp: 328,
                lmd: 146
            },
            "7": {
                exp: 380,
                lmd: 173
            },
            "8": {
                exp: 432,
                lmd: 201
            },
            "9": {
                exp: 484,
                lmd: 231
            },
            "10": {
                exp: 536,
                lmd: 262
            },
            "11": {
                exp: 588,
                lmd: 293
            },
            "12": {
                exp: 640,
                lmd: 326
            },
            "13": {
                exp: 692,
                lmd: 361
            },
            "14": {
                exp: 744,
                lmd: 396
            },
            "15": {
                exp: 796,
                lmd: 432
            },
            "16": {
                exp: 848,
                lmd: 470
            },
            "17": {
                exp: 900,
                lmd: 508
            },
            "18": {
                exp: 952,
                lmd: 548
            },
            "19": {
                exp: 1004,
                lmd: 589
            },
            "20": {
                exp: 1056,
                lmd: 631
            },
            "21": {
                exp: 1108,
                lmd: 675
            },
            "22": {
                exp: 1160,
                lmd: 719
            },
            "23": {
                exp: 1212,
                lmd: 765
            },
            "24": {
                exp: 1264,
                lmd: 811
            },
            "25": {
                exp: 1316,
                lmd: 859
            },
            "26": {
                exp: 1368,
                lmd: 908
            },
            "27": {
                exp: 1420,
                lmd: 958
            },
            "28": {
                exp: 1472,
                lmd: 1010
            },
            "29": {
                exp: 1524,
                lmd: 1062
            },
            "30": {
                exp: 1576,
                lmd: 1116
            },
            "31": {
                exp: 1628,
                lmd: 1171
            },
            "32": {
                exp: 1706,
                lmd: 1245
            },
            "33": {
                exp: 1784,
                lmd: 1322
            },
            "34": {
                exp: 1862,
                lmd: 1400
            },
            "35": {
                exp: 1940,
                lmd: 1480
            },
            "36": {
                exp: 2018,
                lmd: 1562
            },
            "37": {
                exp: 2096,
                lmd: 1645
            },
            "38": {
                exp: 2174,
                lmd: 1731
            },
            "39": {
                exp: 2252,
                lmd: 1817
            },
            "40": {
                exp: 2330,
                lmd: 1906
            },
            "41": {
                exp: 2408,
                lmd: 1996
            },
            "42": {
                exp: 2584,
                lmd: 2171
            },
            "43": {
                exp: 2760,
                lmd: 2349
            },
            "44": {
                exp: 2936,
                lmd: 2531
            },
            "45": {
                exp: 3112,
                lmd: 2717
            },
            "46": {
                exp: 3288,
                lmd: 2907
            },
            "47": {
                exp: 3464,
                lmd: 3100
            },
            "48": {
                exp: 3640,
                lmd: 3298
            },
            "49": {
                exp: 3816,
                lmd: 3499
            },
            "50": {
                exp: 3992,
                lmd: 3705
            },
            "51": {
                exp: 4168,
                lmd: 3914
            },
            "52": {
                exp: 4344,
                lmd: 4127
            },
            "53": {
                exp: 4520,
                lmd: 4344
            },
            "54": {
                exp: 4696,
                lmd: 4565
            },
            "55": {
                exp: 4890,
                lmd: 4807
            },
            "56": {
                exp: 5326,
                lmd: 5294
            },
            "57": {
                exp: 6019,
                lmd: 6049
            },
            "58": {
                exp: 6312,
                lmd: 6413
            },
            "59": {
                exp: 6505,
                lmd: 6681
            },
            "60": {
                exp: 6838,
                lmd: 7098
            },
            "61": {
                exp: 7391,
                lmd: 7753
            },
            "62": {
                exp: 7657,
                lmd: 8116
            },
            "63": {
                exp: 7823,
                lmd: 8378
            },
            "64": {
                exp: 8089,
                lmd: 8752
            },
            "65": {
                exp: 8355,
                lmd: 9132
            },
            "66": {
                exp: 8621,
                lmd: 9518
            },
            "67": {
                exp: 8887,
                lmd: 9909
            },
            "68": {
                exp: 9153,
                lmd: 10306
            },
            "69": {
                exp: 9419,
                lmd: 10709
            },
            "70": {
                exp: 9605,
                lmd: 11027
            },
            "71": {
                exp: 9951,
                lmd: 11533
            },
            "72": {
                exp: 10448,
                lmd: 12224
            },
            "73": {
                exp: 10945,
                lmd: 12926
            },
            "74": {
                exp: 11442,
                lmd: 13639
            },
            "75": {
                exp: 11939,
                lmd: 14363
            },
            "76": {
                exp: 12436,
                lmd: 15097
            },
            "77": {
                exp: 12933,
                lmd: 15843
            },
            "78": {
                exp: 13430,
                lmd: 16599
            },
            "79": {
                exp: 13927,
                lmd: 17367
            },
            "80": {
                exp: 14549,
                lmd: 18303
            },
        }
    },
    E2: {
        level: {
            "1": {
                exp: 0,
                lmd: 0
            },
            "2": {
                exp: 191,
                lmd: 76
            },
            "3": {
                exp: 303,
                lmd: 124
            },
            "4": {
                exp: 415,
                lmd: 173
            },
            "5": {
                exp: 527,
                lmd: 225
            },
            "6": {
                exp: 639,
                lmd: 279
            },
            "7": {
                exp: 751,
                lmd: 334
            },
            "8": {
                exp: 863,
                lmd: 392
            },
            "9": {
                exp: 975,
                lmd: 451
            },
            "10": {
                exp: 1087,
                lmd: 513
            },
            "11": {
                exp: 1199,
                lmd: 577
            },
            "12": {
                exp: 1311,
                lmd: 642
            },
            "13": {
                exp: 1423,
                lmd: 710
            },
            "14": {
                exp: 1535,
                lmd: 780
            },
            "15": {
                exp: 1647,
                lmd: 851
            },
            "16": {
                exp: 1759,
                lmd: 925
            },
            "17": {
                exp: 1871,
                lmd: 1001
            },
            "18": {
                exp: 1983,
                lmd: 1079
            },
            "19": {
                exp: 2095,
                lmd: 1159
            },
            "20": {
                exp: 2207,
                lmd: 1240
            },
            "21": {
                exp: 2319,
                lmd: 1324
            },
            "22": {
                exp: 2431,
                lmd: 1410
            },
            "23": {
                exp: 2543,
                lmd: 1498
            },
            "24": {
                exp: 2655,
                lmd: 1588
            },
            "25": {
                exp: 2767,
                lmd: 1680
            },
            "26": {
                exp: 2879,
                lmd: 1773
            },
            "27": {
                exp: 2991,
                lmd: 1869
            },
            "28": {
                exp: 3103,
                lmd: 1967
            },
            "29": {
                exp: 3215,
                lmd: 2067
            },
            "30": {
                exp: 3327,
                lmd: 2169
            },
            "31": {
                exp: 3439,
                lmd: 2273
            },
            "32": {
                exp: 3602,
                lmd: 2413
            },
            "33": {
                exp: 3765,
                lmd: 2556
            },
            "34": {
                exp: 3928,
                lmd: 2702
            },
            "35": {
                exp: 4091,
                lmd: 2851
            },
            "36": {
                exp: 4254,
                lmd: 3003
            },
            "37": {
                exp: 4417,
                lmd: 3158
            },
            "38": {
                exp: 4580,
                lmd: 3316
            },
            "39": {
                exp: 4743,
                lmd: 3477
            },
            "40": {
                exp: 4906,
                lmd: 3640
            },
            "41": {
                exp: 5069,
                lmd: 3807
            },
            "42": {
                exp: 5232,
                lmd: 3976
            },
            "43": {
                exp: 5395,
                lmd: 4149
            },
            "44": {
                exp: 5558,
                lmd: 4324
            },
            "45": {
                exp: 5721,
                lmd: 4502
            },
            "46": {
                exp: 5884,
                lmd: 4684
            },
            "47": {
                exp: 6047,
                lmd: 4868
            },
            "48": {
                exp: 6210,
                lmd: 5055
            },
            "49": {
                exp: 6373,
                lmd: 5245
            },
            "50": {
                exp: 6536,
                lmd: 5438
            },
            "51": {
                exp: 6699,
                lmd: 5634
            },
            "52": {
                exp: 6902,
                lmd: 5867
            },
            "53": {
                exp: 7105,
                lmd: 6103
            },
            "54": {
                exp: 7308,
                lmd: 6343
            },
            "55": {
                exp: 7511,
                lmd: 6587
            },
            "56": {
                exp: 7714,
                lmd: 6835
            },
            "57": {
                exp: 7917,
                lmd: 7086
            },
            "58": {
                exp: 8120,
                lmd: 7340
            },
            "59": {
                exp: 8323,
                lmd: 7599
            },
            "60": {
                exp: 8526,
                lmd: 7861
            },
            "61": {
                exp: 8729,
                lmd: 8127
            },
            "62": {
                exp: 9163,
                lmd: 8613
            },
            "63": {
                exp: 9597,
                lmd: 9108
            },
            "64": {
                exp: 10031,
                lmd: 9610
            },
            "65": {
                exp: 10465,
                lmd: 10120
            },
            "66": {
                exp: 10899,
                lmd: 10637
            },
            "67": {
                exp: 11333,
                lmd: 11163
            },
            "68": {
                exp: 11767,
                lmd: 11696
            },
            "69": {
                exp: 12201,
                lmd: 12238
            },
            "70": {
                exp: 12729,
                lmd: 12882
            },
            "71": {
                exp: 13069,
                lmd: 13343
            },
            "72": {
                exp: 13747,
                lmd: 14159
            },
            "73": {
                exp: 14425,
                lmd: 14988
            },
            "74": {
                exp: 15103,
                lmd: 15828
            },
            "75": {
                exp: 15781,
                lmd: 16681
            },
            "76": {
                exp: 16459,
                lmd: 17545
            },
            "77": {
                exp: 17137,
                lmd: 18422
            },
            "78": {
                exp: 17815,
                lmd: 19311
            },
            "79": {
                exp: 18493,
                lmd: 20213
            },
            "80": {
                exp: 19171,
                lmd: 21126
            },
            "81": {
                exp: 19849,
                lmd: 22092
            },
            "82": {
                exp: 21105,
                lmd: 23722
            },
            "83": {
                exp: 22361,
                lmd: 25380
            },
            "84": {
                exp: 23617,
                lmd: 27065
            },
            "85": {
                exp: 24873,
                lmd: 28778
            },
            "86": {
                exp: 26129,
                lmd: 30519
            },
            "87": {
                exp: 27385,
                lmd: 32287
            },
            "88": {
                exp: 28641,
                lmd: 34083
            },
            "89": {
                exp: 29897,
                lmd: 35906
            },
            "90": {
                exp: 31143,
                lmd: 37745
            },
        }
    },
}

// const h3Err = document.getElementById('h3Err').value;
const btn = document.getElementById('btn');

let resXP = 0;
let resLMD = 0;

btn.addEventListener('click', event => {
    // Reset field value
    document.getElementById('h3Err').innerHTML = '';
    resXP = 0;
    resLMD = 0;

    // Catch HTML datas in input field
    const OPstar = parseInt(document.getElementById('star').value);
    const actuEl = document.getElementById('baseE').value;
    const desiEl = document.getElementById('toE').value;
    const actuLv = parseInt(document.getElementById('baseLv').value);
    const desiLv = parseInt(document.getElementById('toLv').value);

    // Calculation of necessary XP and LMD
    if (actuEl !== desiEl) {
        // Check that value contain a promotion
        if (actuEl < desiEl) {
            if (OPstar === 3) {
                for (let i = actuLv; i < 40; i++) {
                    console.log(i);
                    resXP += level[actuEl].level[i].exp;
                    resLMD += level[actuEl].level[i].lmd;       
                }
                for (let i = 1; i < desiLv; i++) {
                    resXP += level[desiEl].level[i].exp;
                    resLMD += level[desiEl].level[i].lmd;       
                }
            } else if (OPstar === 4) {
                if (actuEl === 'E1') {
                    for (let i = actuLv; i <= 60; i++) {
                        resXP += level[actuEl].level[i].exp;
                        resLMD += level[actuEl].level[i].lmd;       
                    }
                    for (let i = 1; i <= desiLv; i++) {
                        resXP += level.E2.level[i].exp;
                        resLMD += level.E2.level[i].lmd;
                    }
                } else {
                    if (desiEl === 'E1') {
                        for (let i = actuLv; i <= 45; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;   
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                    } else {
                        for (let i = actuLv; i < 45; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;       
                        }
                        for (let i = 1; i < 60; i++) {
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            resXP += level.E2.level[i].exp;
                            resLMD += level.E2.level[i].lmd;
                        }
                    }
                }
            } else if (OPstar === 5) {
                if (actuEl === 'E1') {
                    for (let i = actuLv; i <= 70; i++) {
                        resXP += level[actuEl].level[i].exp;
                        resLMD += level[actuEl].level[i].lmd;       
                    }
                    for (let i = 1; i <= desiLv; i++) {
                        resXP += level.E2.level[i].exp;
                        resLMD += level.E2.level[i].lmd;
                    }
                } else {
                    if (desiEl === 'E1') {
                        for (let i = actuLv; i <= 50; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;       
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            console.log(level.E1.level, i);
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                    } else {
                        for (let i = actuLv; i <= 50; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;       
                        }
                        for (let i = 1; i <= 70; i++) {
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            resXP += level.E2.level[i].exp;
                            resLMD += level.E2.level[i].lmd;
                        }
                    }
                }
            } else if (OPstar === 6) {
                if (actuEl === 'E1') {
                    for (let i = actuLv; i <= 80; i++) {
                        resXP += level[actuEl].level[i].exp;
                        resLMD += level[actuEl].level[i].lmd;       
                    }
                    for (let i = 1; i <= desiLv; i++) {
                        resXP += level.E2.level[i].exp;
                        resLMD += level.E2.level[i].lmd;
                    }
                } else {
                    if (desiEl === 'E1') {
                        for (let i = actuLv; i <= 50; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;       
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            console.log(level.E1.level, i);
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                    } else {
                        for (let i = actuLv; i <= 80; i++) {
                            resXP += level[actuEl].level[i].exp;
                            resLMD += level[actuEl].level[i].lmd;       
                        }
                        for (let i = 1; i <= 50; i++) {
                            resXP += level.E1.level[i].exp;
                            resLMD += level.E1.level[i].lmd;
                        }
                        for (let i = 1; i <= desiLv; i++) {
                            resXP += level.E2.level[i].exp;
                            resLMD += level.E2.level[i].lmd;
                        }
                    }
                }
            }
            // return an error if desired Elite value in inferior to the actual one
        } else {
            let audio = new Audio('./assets/audio/BOAT.mp3');
            audio.play();
            let audio2 = new Audio('./assets/audio/ALARME.mp3');
            audio2.play();
            let audio3 = new Audio('./assets/audio/AUUGHHH!.mp3');
            audio3.play();
            document.getElementById('h3Err').innerHTML = "Operator actual Elite needs to be inferior to the desired one !"
        }
    // If Elite value doesn't change the calulation will always be the same
    } else if(actuEl == desiEl) {
        for (let i = actuLv; i <= desiLv; i++) {
            resXP += level[actuEl].level[i].exp;
            resLMD += level[actuEl].level[i].lmd;
        }
    }
    document.getElementById('resXP').value = resXP;
    document.getElementById('resLMD').value = resLMD;
    document.getElementById('resNum').value = (Math.ceil(resXP / 10000) + Math.ceil(resLMD / 10000));
    document.getElementById('resSan').value = (Math.ceil(resXP / 10000) + Math.ceil(resLMD / 10000)) * 36;
    document.getElementById('detailsXPNum').value = Math.ceil(resXP / 10000);  
    document.getElementById('detailsXPSan').value = Math.ceil(resXP / 10000) * 36;  
    document.getElementById('detailsXP').value = resXP;  
    document.getElementById('detailsLMDNum').value = Math.ceil(resLMD / 10000);  
    document.getElementById('detailsLMDSan').value = Math.ceil(resLMD / 10000) * 36;  
    document.getElementById('detailsLMD').value = resLMD;  

})
